<script setup>
defineProps({
  isLoading: {
    type: Boolean,
    required: false,
    default: false,
  },
  ariaLabelText: {
    type: String,
    required: false,
    default: 'Submit',
  },
  type: {
    type: String,
    required: false,
    default: 'button',
  },
});
defineEmits(['onClick']);
</script>

<template>
  <button
    :type="type"
    class="submit-button"
    :title="ariaLabelText"
    :aria-label="ariaLabelText"
    @click="$emit('onClick')"
  >
    <svg
      v-if="isLoading"
      class="animate"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M19 9.00049C18.7348 9.00049 18.4804 9.10585 18.2929 9.29338C18.1054 9.48092 18 9.73527 18 10.0005C18.0119 11.8735 17.3703 13.6921 16.1857 15.1429C15.001 16.5938 13.3475 17.5862 11.51 17.9491C9.67239 18.312 7.76578 18.0228 6.11851 17.1313C4.47123 16.2397 3.18641 14.8017 2.48533 13.0647C1.78425 11.3278 1.71079 9.4008 2.27762 7.61556C2.84445 5.83032 4.01607 4.29862 5.5907 3.28427C7.16533 2.26991 9.0444 1.8364 10.9043 2.0584C12.7641 2.2804 14.4884 3.14401 15.78 4.50049H13.38C13.1148 4.50049 12.8604 4.60584 12.6729 4.79338C12.4854 4.98092 12.38 5.23527 12.38 5.50049C12.38 5.7657 12.4854 6.02006 12.6729 6.20759C12.8604 6.39513 13.1148 6.50049 13.38 6.50049H17.91C18.1752 6.50049 18.4296 6.39513 18.6171 6.20759C18.8046 6.02006 18.91 5.7657 18.91 5.50049V1.00049C18.91 0.735272 18.8046 0.480918 18.6171 0.293381C18.4296 0.105845 18.1752 0.000487984 17.91 0.000487984C17.6448 0.000487984 17.3904 0.105845 17.2029 0.293381C17.0154 0.480918 16.91 0.735272 16.91 1.00049V2.77049C15.2447 1.17855 13.0808 0.21044 10.784 0.029817C8.48729 -0.150806 6.19863 0.467133 4.30492 1.77918C2.41121 3.09122 1.02861 5.01689 0.390831 7.23068C-0.246949 9.44446 -0.100787 11.8106 0.804611 13.929C1.71001 16.0475 3.31911 17.7883 5.3599 18.8573C7.40069 19.9263 9.748 20.2579 12.005 19.796C14.2621 19.334 16.2904 18.107 17.7471 16.3222C19.2039 14.5374 19.9997 12.3043 20 10.0005C20 9.73527 19.8946 9.48092 19.7071 9.29338C19.5196 9.10585 19.2652 9.00049 19 9.00049Z"
        fill="#3F47FE"
      />
    </svg>
    <svg
      v-else
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="25"
      viewBox="0 0 24 25"
      fill="none"
    >
      <path
        d="M15.54 11.751L9.88001 6.10097C9.78705 6.00725 9.67645 5.93285 9.55459 5.88208C9.43273 5.83131 9.30202 5.80518 9.17001 5.80518C9.038 5.80518 8.90729 5.83131 8.78544 5.88208C8.66358 5.93285 8.55298 6.00725 8.46001 6.10097C8.27376 6.28834 8.16922 6.54179 8.16922 6.80597C8.16922 7.07016 8.27376 7.32361 8.46001 7.51097L13.41 12.511L8.46001 17.461C8.27376 17.6483 8.16922 17.9018 8.16922 18.166C8.16922 18.4302 8.27376 18.6836 8.46001 18.871C8.55263 18.9655 8.66307 19.0406 8.78495 19.0921C8.90682 19.1436 9.03771 19.1704 9.17001 19.171C9.30232 19.1704 9.4332 19.1436 9.55508 19.0921C9.67695 19.0406 9.7874 18.9655 9.88001 18.871L15.54 13.221C15.6415 13.1273 15.7225 13.0137 15.7779 12.8872C15.8333 12.7607 15.8619 12.6241 15.8619 12.486C15.8619 12.3479 15.8333 12.2113 15.7779 12.0848C15.7225 11.9583 15.6415 11.8446 15.54 11.751Z"
        fill="#171FD6"
      />
    </svg>
  </button>
</template>

<style scoped>
.submit-button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 52px;
  height: 48px;
  background-color: var(--bw-white);
  padding: 15px 20px;
  border-radius: 10px;
  align-items: center;
  display: flex;
  transition: all 0.3s ease-in-out;
}
.submit-button:hover {
  background-color: var(--base-light-frenchgrayI);
}
.submit-button:active {
  background-color: var(--base-light-frenchgrayII);
}
.animate {
  animation: spin 1s linear infinite;
}
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
</style>
